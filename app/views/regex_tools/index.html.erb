<div class="max-w-2xl mx-auto" data-controller="regex-tools" data-regex-tools-tools-value='<%= @tools_json %>' data-regex-tools-variations-value='<%= @variations_json %>'>
  <div class="grid grid-cols-1 gap-4">
    <div>
      <label for="tool" class="block text-sm font-medium text-gray-700 mb-1">Ferramenta</label>
      <select id="tool" data-regex-tools-target="tool" data-action="change->regex-tools#updateTool" class="w-full px-3 py-2 border rounded">
        <% @tools.each do |tool| %>
          <option value="<%= tool.id %>"><%= t("regex_tools.#{tool.name}.name", default: tool.name) %></option>
        <% end %>
      </select>
    </div>

    <div>
      <label for="mode" class="block text-sm font-medium text-gray-700 mb-1">Variação / Modo</label>
      <select id="mode" data-regex-tools-target="mode" data-action="change->regex-tools#updateMode" class="w-full px-3 py-2 border rounded">
        <% variations_tools_collection(@regex_tools).each do |v| %>
          <option value="<%= v.id %>" data-pattern="<%= v.pattern %>"><%= t("regex_tools.#{v.regex_tool.name}.variations.#{v.key}.label", default: v.label) %></option>
        <% end %>
      </select>
      <p class="text-sm text-gray-500 mt-2" data-regex-tools-target="description"></p>
    </div>

    <div>
      <label for="text" class="block text-sm font-medium text-gray-700 mb-1">Digite seu texto:</label>
      <textarea id="text" data-regex-tools-target="text" class="w-full h-48 px-3 py-2 border rounded" placeholder="Digite seu texto aqui..."></textarea>
    </div>

    <div class="text-center">
      <button type="button" data-action="click->regex-tools#count" class="px-4 py-2 bg-indigo-600 text-white rounded">Contar</button>
    </div>

    <div class="mt-4 text-gray-800 font-semibold" data-regex-tools-target="result"></div>
  </div>
</div>
