<div class="max-w-2xl mx-auto w-full" data-controller="regex-tools" data-regex-tools-tools-value='<%= @tools_json %>' data-regex-tools-variations-value='<%= @variations_json %>'>
  <div class="grid grid-cols-1 gap-4">
    <div>
      <label for="tool" class="block text-sm font-medium text-gray-700 mb-1"><%= t('.tool') %></label>
      <select id="tool" data-regex-tools-target="tool" data-action="change->regex-tools#updateTool" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500">
        <% @tools.each do |tool| %>
          <option value="<%= tool.id %>"><%= t("regex_tools.#{tool.name}.name", default: tool.name) %></option>
        <% end %>
      </select>
    </div>

    <div>
      <label for="mode" class="block text-sm font-medium text-gray-700 mb-1"><%=t('.variation_mode')%> </label>
      <select id="mode" data-regex-tools-target="mode" data-action="change->regex-tools#updateMode" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500">
        <% variations_tools_collection(@tools).each do |v| %>
          <option value="<%= v.id %>" data-pattern="<%= v.pattern %>"><%= t("regex_tools.#{v.regex_tool.name}.variations.#{v.key}.label", default: v.label) %></option>
        <% end %>
      </select>
      <p class="text-sm text-gray-500 mt-2" data-regex-tools-target="description"></p>
    </div>

    <div>
      <label for="text" class="block text-sm font-medium text-gray-700 mb-1"><%= t('.enter_text') %></label>
      <textarea id="text" data-regex-tools-target="text" class="w-full h-32 sm:h-48 px-3 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500" placeholder="Digite seu texto aqui..."></textarea>
    </div>

    <div class="text-center">
      <button type="button" data-action="click->regex-tools#count" class="w-full sm:w-auto px-6 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-colors">Contar</button>
    </div>

    <div class="mt-4 text-gray-800 font-semibold text-center sm:text-left" data-regex-tools-target="result"></div>
  </div>
</div>
